<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>91哥自動測試與TDD實務開發(使用C#)課後心得 | 點燈坊</title>
  <meta name="author" content="真 OO無双">
  
  <meta name="description" content="如同看完電影&lt;b&gt;一代宗師&lt;/b&gt;後的震撼">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
 <meta name="description" content="如同看完電影一代宗師後的震撼">
<meta property="og:type" content="article">
<meta property="og:title" content="91哥自動測試與TDD實務開發(使用C#)課後心得">
<meta property="og:url" content="http://oomusou.io/tdd/tdd-91/index.html">
<meta property="og:site_name" content="點燈坊">
<meta property="og:description" content="如同看完電影一代宗師後的震撼">
<meta property="og:image" content="http://oomusou.io/images/feature/logo.png">
<meta property="og:updated_time" content="2016-03-22T14:03:51.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="91哥自動測試與TDD實務開發(使用C#)課後心得">
<meta name="twitter:description" content="如同看完電影一代宗師後的震撼">
 

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">點燈坊</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Subscribe me.">
			  <i class="fa fa-rss"></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 
	
		<div class="page-header">		
			<h1> 91哥自動測試與TDD實務開發(使用C#)課後心得</h1>
		</div>		
	



<div class="row post">
	<!-- cols -->
	
	<div class="col-md-9">
	

	
		 <div class="alert alert-success description">
			<i class="fa fa-info-circle"></i> 如同看完電影<b>一代宗師</b>後的震撼			
		</div> <!-- alert -->
		

	<!-- toc -->
	<div id="postTOC">
		<span class="tocHeading">Contents</span>
		<ol class="toc-article"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#緣起"><span class="toc-article-text">緣起</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Q&A"><span class="toc-article-text">Q&A</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#Conclusion"><span class="toc-article-text">Conclusion</span></a></li></ol>
    </div>

	<!-- content -->
	<div class="mypage">		
	    <p><code>一代宗師</code>是我最愛的電影，經典台詞不可勝數；而上完91哥的課程後，91哥的經典語錄還是言猶在耳，『哥教的是開發，測試只是順便』、『老闆花錢是請你來寫production code，不是請你來寫測試』、『重點在需求，焦點要放在解決問題，測試只是剛好而已』、『如果你的程式，測試加不上去，測試很難寫，很難獨立對它進行測試，那代表你production code寫太爛』、『TDD是我目前看來解決over design最好的武器』、『透過BDD與TDD，我們能達到需求、測試、開發、文件一次解決』。</p>
<a id="more"></a>
<h2 id="緣起">緣起</h2><hr>
<p><img src="/images/tdd/tdd-91/tdd000.jpg" alt=""></p>
<p>因為<a href="http://jaceju.net" target="_blank" rel="external">大澤木小鐵</a>去上過91哥的課程大力推薦，本來因為我們只會PHP，擔心C#會聽不懂，但<a href="http://jaceju.net" target="_blank" rel="external">大澤木小鐵</a>說<code>我完全不會C#，上課也不是問題</code>，這給了我們很大的信心，既然鐵哥都說不是問題了，我們就在<a href="https://www.facebook.com/groups/laravel.tw/" target="_blank" rel="external">Laravel台灣</a>社團約了6位社友，一起去上<a href="https://www.facebook.com/91agile/?fref=ts" target="_blank" rel="external">91哥陳仕傑</a>在<a href="https://skilltree.my" target="_blank" rel="external">SkillTree</a>開的<a href="https://skilltree.my/events/mbh" target="_blank" rel="external">自動測試與TDD開發實務(使用C#)第四梯</a>了。</p>
<h2 id="Q&amp;A">Q&amp;A</h2><hr>
<p>我不想以傳統流水帳的方式介紹91哥的三天內容上些什麼，既然重點在<code>需求</code>，焦點在<code>解決問題</code>，我想直接以<code>沒上過91哥課程會有的疑問</code>為需求，直接以問答的方式來解決問題。</p>
<span class="label label-danger">Q</span> 我是<code>RD</code>，我<code>不懂</code>C#與ASP.NET MVC，上91哥的課會聽不懂嗎？<br><br><span class="label label-success">A</span> 我個人是略懂C#，但我沒寫過ASP.NET MVC，只寫過ASP.NET WebForm與Windows Form，由於這次我們一共有6位寫PHP的社友一起上課，之前擔心其他夥伴完全不會C#，上課會有障礙，所以在課前的一個星期幫大家惡補了C# ，但後來發現其實91哥上課<code>沒用到多進階、炫麗的Design Pattern或OOP技巧，而是最基本的OOP特性跟原則</code>，基本上你只要懂<code>interface</code>，懂<code>繼承</code>，懂<code>virtual</code>/<code>override</code>這三招就夠了，如同葉問說的 : <code>三板斧就夠你受的了</code>。<span class="margin-note-marker"><sup>1</sup></span> <span class="block margin-div-outer"><span class="block margin-div-inner"><span class="block margin-note"><span class="margin-note-marker">1</span>詳細請參考<a href="/php/php-cs/">PHP與C#語法快速導覽</a></span></span></span>
<p><img src="/images/tdd/tdd-91/tdd001.jpg" alt=""></p>
<p>也因為只有這三招，所以只要你所使用的程式語言支援interface、繼承與virtual/override，就可以將91哥上課所教的東西套在你自己的開發上，PHP已經是算眾多語言中最晚支援OOP的了，但目前也可以順利將91哥所教的<code>unit test</code>、<code>Refactor</code>、<code>TDD</code>與<code>BDD</code>套用在實務上，所以<code>程式語言真的不是問題</code>，重點在於你懂不懂它的內功心法，與實務上該怎麼執行，這正是91哥上課要傳承給大家的。</p>
<span class="label label-danger">Q</span> 我是<code>RD</code>，91哥上課用的<code>Visual Studio</code>、<code>MSTest</code>、<code>NSubstitue</code>，<code>SpecFlow</code>…等工具都是給<code>C#</code>用的，我用其他程式語言也無法使用啊？<br><br><span class="label label-success">A</span> 我是寫<code>PHP</code>的，不是用Windows，也沒有Visual Studio可用，更沒有MSTest、NSubstitute與SpecFlow，不過在這三天課程中，讓我看到了unit test、Refactor、TDD與BDD該如何在實務上使用Visual Studio串起來，重點是<code>實務上正確的開發flow，而不是在工具上</code>，也因為91哥在上課中Visual Studio的啟發，讓我在<a href="https://www.jetbrains.com/" target="_blank" rel="external">JetBrains</a>的<a href="https://www.jetbrains.com/phpstorm/" target="_blank" rel="external">PhpStorm</a>實現出與Visual Studio上99%相同的開發flow，至於其他工具，就要感謝<a href="http://jaceju.net" target="_blank" rel="external">大澤木小鐵</a>在<a href="/2015/09/20/tdd-jaceju/">PHP上學會自動化測試與實戰TDD</a>課程中，教大家用<code>PHPStorm</code>實現<code>Refactor</code>，<code>PHPUnit</code>取代<code>MSTest</code>，<code>Mockery</code>取代<code>NSubstitute</code>，<code>Behat</code>取代<code>SpecFlow</code>，既然連PHP都可以，我相信其他程式語言也一定也可以找到適合的取代方案，重點是學到91哥的<code>內功心法</code>與<code>實戰經驗</code>，而不用執著在<code>工具</code>上。<br><br><span class="label label-danger">Q</span> 我是<code>RD</code>，unit test、Refactor、TDD與BDD這些東西聽起來很玄，很擔心91哥的課程如同一些Scrum講師只會<code>嘴砲</code>，聽完了還是不知道怎麼用在實務上？<br><br><span class="label label-success">A</span> 我自己對於課程內容還蠻挑的，我不喜歡那種只會講理論，講願景的課程，整堂課看不到一行code，畢竟我們是RD，<code>live coding</code>最有感覺，但也不喜歡那種完全實務導向的課程，覺得大師們的理論都是屁，只有實作才是王道，我覺得那些大師只所以被稱為大師，其理論是從實戰歸納出來的，只是我們目前還不懂而已。而91哥課程是<code>理論與實戰兼具</code>，分理論、Lab、Homework三個部分 :<br>1. 理論 : 首先會講理論部分，所謂一圖解千文，91哥大量使用<code>圖解</code>的方式去講解TDD等玄妙的觀念，上課之前我已經開始用TDD開發，不過還是有很多觀念跨不過去，經過91哥的圖解之後，就一目瞭然了，不再只是文字的抽象解釋，畢竟每個人對文字的理解不一樣。<br>2. Lab : RD就是要看到code才有感覺啊，接下來91哥會<code>live coding</code>每個lab，實際用code解釋剛剛講的理論，91哥上課的lab都非常具有代表性，都是實務上會碰到的例子，不是很多書上的鳥、shape之類的範例，讓人一看就會有<code>我之前也是在這裡痛過</code>的感覺。<br>3. Homework : 離開學校之後，已經很久沒寫homework了，但91哥強調<strong><em>絕對不要先去參考別人寫好的homework，那你就失去了打通任督二脈的機會，因為卡關，講師帶著你打通關，才是這門課的價值</em></strong>，91哥會幫每個人的作業寫comment，若不合需求就退回，直到做對為止，而91哥homework題目也非常具有代表性，都是實務上會遇到的問題，讓你寫完之後就會想明天用在工作上。<br>總體來說，<code>lab與homework才是91哥課程的精華</code>，透過這樣的實戰，讓我們對理論更有感覺，也可以立刻用在實務上。<br><br><span class="label label-danger">Q</span> 我是<code>RD</code>，有些講師本身功力很高，可是不善於教學，不會掌握課程節奏，只讓人聽了<code>想睡覺</code>，91哥的課程會這樣嗎?<br><br><span class="label label-success">A</span> 我第一天上課的狀況並不好，前一晚失眠，只睡了3個小時，一直很擔心上課會睡著，但結果是多慮了，91哥讓我從早上9點一直high到下午6點，腦袋CPU不斷高速運轉 :<br>1. 使用RD的話講課 : 很多講師/教授沒有太多實戰經驗，只是將書中那套理論搬出來，但91哥講的卻是<code>拳拳到肉的實戰經驗</code>，馬上打到我們的<code>痛點</code>，想睡都睡不著。<br>2. Recap與分組搶答 : 當理論與lab完了之後，還有個recap時間讓我們分組搶答，大家為了91哥的獎品更是拼了老命，<code>PHP代表隊</code>就是這樣才贏得第一天與第三天的積分第一名 XDD。<br>3. Homework Review : 每次上課前，91哥會花約一個小時的時間去review大家前一次的homework，將大部分人遇到的問題提出來討論，由於homework大家親手寫過，所以review起來非常有感覺。<br><br><span class="label label-danger">Q</span> 我是<code>RD</code>，已經開始寫unit test，可是實務上<code>總無法順利的將自己的production code加上測試</code>，我能在91哥課程學到我想要的東西嗎？<br><br><span class="label label-success">A</span>
<blockquote><p>如果你的程式，測試加不上去，測試很難寫，很難獨立對它進行測試，那代表你production code寫太爛。</p>
<footer><strong>91哥</strong></footer></blockquote>
<p>最主要的問題，就是你的production code有太多的<code>相依物件</code>，導致測試加不上去。關於這點，91哥在上課花了相當大的篇幅與lab講這個部分，為了不破91哥的梗，在此就不細講，請直接去上課去聽91哥詮釋。</p>
<span class="label label-danger">Q</span> 我是<code>RD</code>，我會OOP，也會Design Pattern，可是為什麼用了Design Pattern之後反而更難維護呢？我能在91哥課程學到我想要的東西嗎？<br><br><span class="label label-success">A</span> 
<blockquote><p>大家都經歷了學習OO，誤用OO；學習Design Pattern，誤用Design Pattern的歷程。</p>
</blockquote>
<blockquote><p>先有code再重構，比一開始設計套用一堆Design Pattern來的精準。</p>
</blockquote>
<blockquote><p>TDD是我目前看來解決over design最好的武器。</p>
<footer><strong>91哥</strong></footer></blockquote>
<p>回想自己學習OOP的歷程也是這樣 : </p>
<ul>
<li>一開始學OOP時，非常喜歡使用<code>繼承</code>，但後來發現一旦需求發生變化，上層class一改就<code>一髮動全身</code>，反而更難維護。</li>
<li>後來學了Design Pattern，拿到spec就開始切<code>interface</code>，後來才發現根本<code>over design</code>，多了無謂的複雜性，反而更難維護。</li>
</ul>
<p>91哥教給大家的<code>TDD</code>，採用<code>測試</code>-&gt;<code>紅燈</code>-&gt;<code>開發</code>-&gt;<code>綠燈</code>-&gt;<code>重構</code>-&gt;<code>綠燈</code>的開發流程。</p>
<ol>
<li>有了需求，才有紅燈。</li>
<li>解決需求，才有綠燈。</li>
<li>重構架構，繼續綠燈。</li>
</ol>
<p>因為先有<code>紅燈</code>才有<code>綠燈</code>，所以我們不會over design，每個<code>開發</code>都是恰好解決了<code>需求</code>。<br>雖然<code>需求</code>不斷的增加，但因為不斷的<code>重構</code>，讓整個架構一直維持在<code>好維護</code>的狀態。<br>因為已經寫了<code>測試</code>，所以不用擔心<code>重構</code>改壞<code>原有功能</code>。<br>關於TDD與重構， 只要跟著91哥的lab與homework，就能完整感受其威力。</p>
<span class="label label-danger">Q</span> 我是<code>QA</code>，測試是很無聊的事情，是否能將測試加以自動化呢？我能在91哥課程學到我想要的東西嗎？<br><br><span class="label label-success">A</span> 
<blockquote><p>哥教的是開發，測試只是順便。</p>
<footer><strong>91哥</strong></footer></blockquote>
<p>雖然<code>測試只是順便</code>，不過在第二天的課程中，91哥會教大家使用Selenium，可將在瀏覽器的動作錄製下來，將來可以重複執行所錄製的動作，若發現bug，QA甚至可以將所錄製的檔案交給RD重現bug，是非常方便的工具。</p>
<p>關於Selenium，91哥提供了很多lab，甚至可以將在瀏覽器前端的操作轉成後端程式，並與BDD與TDD結合，非常實用。</p>
<span class="label label-danger">Q</span> 我是<code>RD</code>，我必須花很多時間跟PM溝通，但常常我寫出來的東西不是PM所要的，害我又要一直改一直改，我能在91哥課程學到我想要的東西嗎？<br><br><span class="label label-success">A</span> 
<blockquote><p>重點在需求，焦點要放在解決問題，測試只是剛好而已。</p>
<footer><strong>91哥</strong></footer></blockquote>
<p>unit test確保了我們<code>程式寫的想的一樣</code>，而TDD確保了我們<code>想清楚scenario才動手寫</code>，但什麼確保了<code>我們想的跟PM一樣</code>呢？這也是RD常常寫出不是PM所要東西的主要原因，透過BDD，我們可以使用<code>人話描述需求</code>，與PM確認，再使用<code>人話轉成測試案例</code>，最後繼續我們的TDD，如此就能確保RD用TDD所開發的東西，真的是PM所想要的東西，而不用因為認知差異而一直改一直改。</p>
<span class="label label-danger">Q</span> 我是<code>PM</code>，我希望我寫的spec能讓RD直接開發使用，並且自動產生<code>測試報告</code>，我能在91哥課程學到我想要的東西嗎？<br><br><span class="label label-success">A</span> 
<blockquote><p>透過BDD與TDD，我們能達到需求、測試、開發、文件一次解決。</p>
<footer><strong>91哥</strong></footer></blockquote>
<p>BDD是RD透過Gherkin格式描述人話，如下圖所示 :<br><img src="/images/tdd/tdd-91/tdd002.png" alt=""></p>
<p>若PM也能以Gherkin格式描述需求的話，RD將可直接以它當<code>spec</code>轉成<code>測試案例</code>從事TDD，並自動將測試結果產生測試報告，如此將大幅提升開發效率。</p>
<p>關於BDD部分，91哥有一個範例就是以Gherkin描述需求，透過BDD與TDD，最後自動產生一份<code>測試報告</code>。</p>
<h2 id="Conclusion">Conclusion</h2><hr>
<blockquote><p>習武之人必有三個階段 : 見自己、見天地、見眾生。</p>
<footer><strong>宮寶森 &nbsp;- 一代宗師</strong></footer></blockquote>
<p>很感謝<code>見眾生</code>的91哥將自己實務上TDD與BDD的經驗很熱血地分享給後輩，雖然表定課程是上到晚上五點，但課後我們將實務上的問題請教91哥時，91哥總是毫不保留的傾囊相授，甚至講到晚上六點，最後我必須很老實的說一句 : <code>這是我上過的付費課程中，無論是理論或lab，內容最有料的一次，也是最震撼的一次！</code></p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">
<ul class="pagination">
	 
				
    	<li class="prev"><a href="/laravel/laravel-service-provider/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>Prev</a></li>
  		

        <li><a href="/tags"><i class="fa fa-archive"></i>Archive</a></li>

		
		   <li class="next"><a href="/ci/travis-ci-setup/" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a></li>         
        
	
</ul>
</div>

    </center>
	</div>
	
	<!-- comment -->
	
	
	</div> <!-- col-md-9/col-md-12 -->
	
	
		<div class="col-md-3"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2015-11-07 
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/BDD/">BDD<span>2</span></a></li> <li><a href="/tags/TDD/">TDD<span>10</span></a></li>
    </ul>
	</div>
		

    <hr>
	
</div><!-- col-md-3 -->

	

</div><!-- row -->

	</div>
  </div>
  <div class="container-narrow">
  <footer>  </footer>
</div> <!-- container-narrow -->
  
  <script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'hAXbiVYFC92XF16_EhCh','2.0.0');
  </script>



  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


</body>
   </html>
